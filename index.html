<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FaceParty</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 400px;
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .page {
            display: none;
            padding: 20px;
        }
        .page.active {
            display: block;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        .header {
            text-align: center;
            padding: 15px 0;
            background: linear-gradient(to right, #ff3366, #ff6699);
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            font-size: 18px;
        }
        .logo {
            max-width: 100px;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .profile-pic, .upload-pic, .person-pic {
            width: 150px;
            height: 150px;
            background-color: #ddd;
            border-radius: 10px;
            margin: 20px auto;
            cursor: pointer;
            background-size: cover;
            background-position: center;
            border: 2px dashed #ff3366;
            animation: fadeInImage 0.3s ease-in;
        }
        @keyframes fadeInImage {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .button, .nav-button {
            display: block;
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            background-color: #ff3366;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-size: 14px;
        }
        .nav-button {
            width: 48%;
            display: inline-block;
            margin: 5px 1%;
            background-color: #ff6699;
        }
        .button:hover, .nav-button:hover {
            background-color: #cc0033;
            transform: scale(1.05);
        }
        .back-button {
            width: 50%;
            background-color: #ccc;
            margin-left: auto;
            margin-right: auto;
        }
        .back-button:hover {
            background-color: #999;
        }
        .facelike-sent {
            background-color: #4CAF50 !important;
            color: white !important;
            animation: pulse 0.5s ease-in-out;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .content-block {
            margin: 15px 0;
            padding: 15px;
            background-color: #fafafa;
            border-radius: 8px;
            font-size: 14px;
            animation: fadeInContent 0.3s ease-in;
        }
        @keyframes fadeInContent {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .list-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            font-size: 14px;
            animation: fadeInItem 0.2s ease-in;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .list-item span {
            cursor: pointer;
            flex: 1;
        }
        @keyframes fadeInItem {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .list-item:hover {
            background-color: #f0f0f0;
            animation: hoverEffect 0.2s ease-in-out;
        }
        @keyframes hoverEffect {
            from { transform: scale(1); }
            to { transform: scale(1.02); }
        }
        .chat-message {
            margin: 10px 0;
            padding: 10px;
            background-color: #f5f5f5;
            border-radius: 8px;
            font-size: 14px;
        }
        .chat-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            resize: vertical;
            font-size: 14px;
        }
        .footer {
            text-align: center;
            padding: 10px 0;
            background-color: #ff6699;
            color: #fff;
            border-bottom-left-radius: 15px;
            border-bottom-right-radius: 15px;
            font-size: 12px;
            animation: fadeInFooter 0.3s ease-in;
        }
        @keyframes fadeInFooter {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .filters {
            margin: 15px 0;
        }
        .filters select {
            padding: 8px;
            margin: 5px 0;
            width: 100%;
            border-radius: 5px;
            border: 1px solid #ddd;
            font-size: 14px;
        }
        .search-bar {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
        }
        .club-image {
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
            border-radius: 8px;
            margin: 10px 0;
            animation: fadeInImage 0.3s ease-in;
        }
        .chat-section {
            display: none;
        }
        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        .home-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background-color: #ff3366;
            color: #fff;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            z-index: 1000;
            transition: background-color 0.3s, transform 0.2s;
        }
        .home-button:hover {
            background-color: #cc0033;
            transform: translateX(-50%) scale(1.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Page de connexion/inscription -->
        <div id="photo-login" class="page active">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="content-block">
                <h3>Connexion</h3>
                <input type="email" id="login-email" class="search-bar" placeholder="E-mail">
                <input type="password" id="login-password" class="search-bar" placeholder="Mot de passe">
                <button class="button" onclick="login()">Se connecter</button>
                <button class="button" onclick="showForgotPasswordForm()">Mot de passe oubli√© ?</button>
            </div>
            <div id="forgot-password-form" class="content-block" style="display: none;">
                <h3>R√©cup√©rer le mot de passe</h3>
                <input type="email" id="forgot-email" class="search-bar" placeholder="Votre e-mail">
                <button class="button" onclick="forgotPassword()">Envoyer un lien de r√©initialisation</button>
            </div>
            <div id="reset-password-form" class="content-block" style="display: none;">
                <h3>R√©initialiser le mot de passe</h3>
                <input type="email" id="reset-email" class="search-bar" placeholder="Votre e-mail" readonly>
                <input type="password" id="reset-password" class="search-bar" placeholder="Nouveau mot de passe">
                <button class="button" onclick="resetPassword()">R√©initialiser</button>
            </div>
            <div class="content-block">
                <h3>Inscription</h3>
                <input type="text" id="signup-nom" class="search-bar" placeholder="Nom">
                <input type="email" id="signup-email" class="search-bar" placeholder="E-mail">
                <input type="text" id="signup-prenom" class="search-bar" placeholder="Pr√©nom">
                <input type="text" id="signup-boisson" class="search-bar" placeholder="Boisson pr√©f√©r√©e">
                <input type="text" id="signup-taille" class="search-bar" placeholder="Taille (ex. 1m80)">
                <select id="signup-eyes" class="search-bar">
                    <option value="">Couleur des yeux</option>
                    <option value="Bleus">Bleus</option>
                    <option value="Verts">Verts</option>
                    <option value="Marrons">Marrons</option>
                    <option value="Gris">Gris</option>
                    <option value="Noisette">Noisette</option>
                    <option value="Ambre">Ambre</option>
                    <option value="Noirs">Noirs</option>
                    <option value="Violets">Violets</option>
                </select>
                <select id="signup-hair" class="search-bar">
                    <option value="">Couleur des cheveux</option>
                    <option value="Brun">Brun</option>
                    <option value="Blond">Blond</option>
                    <option value="Roux">Roux</option>
                    <option value="Ch√¢tain">Ch√¢tain</option>
                    <option value="Noir">Noir</option>
                    <option value="Gris">Gris</option>
                    <option value="Blanc">Blanc</option>
                    <option value="Auburn">Auburn</option>
                    <option value="Ch√¢tain clair">Ch√¢tain clair</option>
                    <option value="Ch√¢tain fonc√©">Ch√¢tain fonc√©</option>
                </select>
                <select id="signup-nationality" class="search-bar">
                    <option value="">Nationalit√©</option>
                    <option value="Fran√ßaise">Fran√ßaise</option>
                    <option value="Italienne">Italienne</option>
                    <option value="Britannique">Britannique</option>
                    <option value="Su√©doise">Su√©doise</option>
                    <option value="Espagnole">Espagnole</option>
                    <option value="Am√©ricaine">Am√©ricaine</option>
                    <option value="Marocaine">Marocaine</option>
                    <option value="Allemande">Allemande</option>
                    <option value="Chinoise">Chinoise</option>
                    <option value="Japonaise">Japonaise</option>
                    <option value="Russe">Russe</option>
                    <option value="Br√©silienne">Br√©silienne</option>
                    <option value="Canadienne">Canadienne</option>
                    <option value="Australienne">Australienne</option>
                    <option value="Indienne">Indienne</option>
                    <option value="Mexicaine">Mexicaine</option>
                    <option value="Sud-Africaine">Sud-Africaine</option>
                    <option value="Cor√©enne">Cor√©enne</option>
                    <option value="Turque">Turque</option>
                    <option value="Portugaise">Portugaise</option>
                    <option value="N√©erlandaise">N√©erlandaise</option>
                    <option value="Belge">Belge</option>
                    <option value="Suisse">Suisse</option>
                    <option value="Argentine">Argentine</option>
                    <option value="√âgyptienne">√âgyptienne</option>
                    <option value="Grecque">Grecque</option>
                    <option value="Danoise">Danoise</option>
                    <option value="Norv√©gienne">Norv√©gienne</option>
                    <option value="Polonaise">Polonaise</option>
                    <option value="Vietnamienne">Vietnamienne</option>
                </select>
                <input type="password" id="signup-password" class="search-bar" placeholder="Mot de passe">
                <button class="button" onclick="signup()">Cr√©er</button>
            </div>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Page d'accueil -->
        <div id="photo-1" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="profile-pic" id="profile-pic" style="background-image: url('https://via.placeholder.com/150?text=Photo+Utilisateur');" onclick="showPage('photo-2')"></div>
            <button class="button" onclick="showPage('stats-page')">Statistiques</button>
            <button class="button" onclick="showPage('photo-3')">Soir√©es autour de moi</button>
            <input type="text" class="search-bar" id="search-bar" placeholder="Rechercher un lieu festif..." onkeyup="searchPlaces()">
            <div class="content-block" id="places-list">
                <div class="list-item" onclick="showPage('photo-4')">Le Nocturne</div>
                <div class="list-item" onclick="showPage('photo-4')">Le Pulse</div>
            </div>
            <button class="button" onclick="showPage('photo-7')">Messages</button>
            <button class="button" onclick="showPage('photo-6')">Facelikes re√ßus</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Profil personnel -->
        <div id="photo-2" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="upload-pic" id="upload-pic" onclick="document.getElementById('profile-upload').click()">
                <span>Charger une photo</span>
            </div>
            <input type="file" id="profile-upload" style="display: none;" accept="image/*" onchange="uploadProfilePic(event)">
            <div class="content-block" id="profile-display">
                <h3 id="profile-prenom"></h3>
                <p id="profile-boisson"></p>
                <p id="profile-taille"></p>
                <p id="profile-eyes"></p>
                <p id="profile-hair"></p>
                <p id="profile-nationality"></p>
            </div>
            <button class="button" onclick="showEditProfileForm()">Modifier le profil</button>
            <div class="content-block" id="edit-profile-form" style="display: none;">
                <h3>Modifier le profil</h3>
                <input type="email" id="edit-email" class="search-bar" placeholder="Nouvel e-mail">
                <input type="password" id="edit-password" class="search-bar" placeholder="Nouveau mot de passe">
                <input type="text" id="edit-prenom" class="search-bar" placeholder="Pr√©nom">
                <input type="text" id="edit-boisson" class="search-bar" placeholder="Boisson pr√©f√©r√©e">
                <input type="text" id="edit-taille" class="search-bar" placeholder="Taille (ex. 1m80)">
                <select id="edit-eyes" class="search-bar">
                    <option value="">Couleur des yeux</option>
                    <option value="Bleus">Bleus</option>
                    <option value="Verts">Verts</option>
                    <option value="Marrons">Marrons</option>
                    <option value="Gris">Gris</option>
                    <option value="Noisette">Noisette</option>
                    <option value="Ambre">Ambre</option>
                    <option value="Noirs">Noirs</option>
                    <option value="Violets">Violets</option>
                </select>
                <select id="edit-hair" class="search-bar">
                    <option value="">Couleur des cheveux</option>
                    <option value="Brun">Brun</option>
                    <option value="Blond">Blond</option>
                    <option value="Roux">Roux</option>
                    <option value="Ch√¢tain">Ch√¢tain</option>
                    <option value="Noir">Noir</option>
                    <option value="Gris">Gris</option>
                    <option value="Blanc">Blanc</option>
                    <option value="Auburn">Auburn</option>
                    <option value="Ch√¢tain clair">Ch√¢tain clair</option>
                    <option value="Ch√¢tain fonc√©">Ch√¢tain fonc√©</option>
                </select>
                <select id="edit-nationality" class="search-bar">
                    <option value="">Nationalit√©</option>
                    <option value="Fran√ßaise">Fran√ßaise</option>
                    <option value="Italienne">Italienne</option>
                    <option value="Britannique">Britannique</option>
                    <option value="Su√©doise">Su√©doise</option>
                    <option value="Espagnole">Espagnole</option>
                    <option value="Am√©ricaine">Am√©ricaine</option>
                    <option value="Marocaine">Marocaine</option>
                    <option value="Allemande">Allemande</option>
                    <option value="Chinoise">Chinoise</option>
                    <option value="Japonaise">Japonaise</option>
                    <option value="Russe">Russe</option>
                    <option value="Br√©silienne">Br√©silienne</option>
                    <option value="Canadienne">Canadienne</option>
                    <option value="Australienne">Australienne</option>
                    <option value="Indienne">Indienne</option>
                    <option value="Mexicaine">Mexicaine</option>
                    <option value="Sud-Africaine">Sud-Africaine</option>
                    <option value="Cor√©enne">Cor√©enne</option>
                    <option value="Turque">Turque</option>
                    <option value="Portugaise">Portugaise</option>
                    <option value="N√©erlandaise">N√©erlandaise</option>
                    <option value="Belge">Belge</option>
                    <option value="Suisse">Suisse</option>
                    <option value="Argentine">Argentine</option>
                    <option value="√âgyptienne">√âgyptienne</option>
                    <option value="Grecque">Grecque</option>
                    <option value="Danoise">Danoise</option>
                    <option value="Norv√©gienne">Norv√©gienne</option>
                    <option value="Polonaise">Polonaise</option>
                    <option value="Vietnamienne">Vietnamienne</option>
                </select>
                <button class="button" onclick="saveProfile()">Sauvegarder</button>
            </div>
            <button class="button" onclick="showPage('friends-page')">Amis</button>
            <button class="button" onclick="showPage('photo-1')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- D√©tails des soir√©es -->
        <div id="photo-3" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <input type="text" class="search-bar" id="search-bar-full" placeholder="Rechercher un lieu festif..." onkeyup="searchPlacesFull()">
            <div class="content-block" id="places-list-full">
                <div class="list-item" onclick="showPage('photo-4')">Le Nocturne</div>
                <div class="list-item" onclick="showPage('photo-4')">Le Pulse</div>
            </div>
            <button class="button" onclick="showPage('photo-1')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- D√©tails du lieu -->
        <div id="photo-4" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="club-image" style="background-image: url('https://via.placeholder.com/400x200?text=Fictif+Le+Nocturne+√âlectro+Chic+Pink/Purple+Neons+Crowd+Strobes');"></div>
            <div class="content-block">
                <p>Note : 4.5/5</p>
                <p>Ambiance musicale : √âlectro</p>
                <p>Dress code : Chic</p>
                <p>S√©lectivit√© : 10‚Ç¨, Ratio 1:1</p>
                <p>Vid√©os : [Simul√© - Cliquez pour voir l‚Äôambiance]</p>
                <p>Participants FaceParty : 45</p>
                <p>Amis pr√©sents ce soir : 2</p>
                <p>Amis d√©j√† all√©s : 8</p>
            </div>
            <button class="button" onclick="showPage('photo-5')">Rejoindre</button>
            <button class="button" onclick="showPage('photo-3')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Participants avec filtres -->
        <div id="photo-5" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="filters">
                <select id="filter-preferences" onchange="applyFilters()">
                    <option value="all">Pr√©f√©rences (Filles/Gar√ßons/Tous)</option>
                    <option value="femmes">Filles</option>
                    <option value="hommes">Gar√ßons</option>
                    <option value="tous">Les deux</option>
                </select>
                <select id="filter-age" onchange="applyFilters()">
                    <option value="all">√Çge</option>
                    <option value="18-25">18-25</option>
                    <option value="26-30">26-30</option>
                </select>
                <select id="filter-height" onchange="applyFilters()">
                    <option value="all">Taille</option>
                    <option value="petit">1m60-1m70</option>
                    <option value="grand">1m70+</option>
                </select>
                <select id="filter-eyes" onchange="applyFilters()">
                    <option value="all">Yeux</option>
                    <option value="bleu">Bleu</option>
                    <option value="vert">Vert</option>
                    <option value="marron">Marrons</option>
                    <option value="gris">Gris</option>
                    <option value="noisette">Noisette</option>
                    <option value="ambre">Ambre</option>
                    <option value="noir">Noirs</option>
                    <option value="violet">Violets</option>
                </select>
                <select id="filter-hair" onchange="applyFilters()">
                    <option value="all">Cheveux</option>
                    <option value="brun">Brun</option>
                    <option value="blond">Blond</option>
                    <option value="roux">Roux</option>
                    <option value="ch√¢tain">Ch√¢tain</option>
                    <option value="noir">Noir</option>
                    <option value="gris">Gris</option>
                    <option value="blanc">Blanc</option>
                    <option value="auburn">Auburn</option>
                    <option value="ch√¢tain clair">Ch√¢tain clair</option>
                    <option value="ch√¢tain fonc√©">Ch√¢tain fonc√©</option>
                </select>
                <select id="filter-nationality" onchange="applyFilters()">
                    <option value="all">Origine</option>
                    <option value="france">France</option>
                    <option value="italie">Italie</option>
                    <option value="royaume-uni">Royaume-Uni</option>
                    <option value="suede">Su√®de</option>
                    <option value="espagne">Espagne</option>
                    <option value="usa">USA</option>
                    <option value="maroc">Maroc</option>
                    <option value="allemagne">Allemagne</option>
                    <option value="chine">Chine</option>
                    <option value="japon">Japon</option>
                    <option value="russie">Russie</option>
                    <option value="bresil">Br√©sil</option>
                    <option value="canada">Canada</option>
                    <option value="australie">Australie</option>
                    <option value="inde">Inde</option>
                    <option value="mexique">Mexique</option>
                    <option value="afrique-du-sud">Afrique du Sud</option>
                    <option value="coree">Cor√©e</option>
                    <option value="turquie">Turquie</option>
                    <option value="portugal">Portugal</option>
                    <option value="pays-bas">Pays-Bas</option>
                    <option value="belgique">Belgique</option>
                    <option value="suisse">Suisse</option>
                    <option value="argentine">Argentine</option>
                    <option value="egypte">√âgypte</option>
                    <option value="grece">Gr√®ce</option>
                    <option value="danemark">Danemark</option>
                    <option value="norvege">Norv√®ge</option>
                    <option value="pologne">Pologne</option>
                    <option value="vietnam">Vietnam</option>
                </select>
            </div>
            <div class="content-block" id="participants-list"></div>
            <button class="button" onclick="showPage('photo-4')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Profil d'une personne -->
        <div id="person-profile" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="person-pic" id="person-pic" style="background-image: url('https://via.placeholder.com/150?text=Fictif+Utilisateur');"></div>
            <div class="content-block">
                <h3 id="person-name"></h3>
                <p id="person-age"></p>
                <p id="person-height"></p>
                <p id="person-eyes"></p>
                <p id="person-hair"></p>
                <p id="person-nationality"></p>
                <p id="person-boisson"></p>
            </div>
            <button class="button" id="facelike-button" onclick="sendFacelikeFromProfile()">Facelike</button>
            <button class="button" onclick="showPage('photo-5')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Facelikes re√ßus -->
        <div id="photo-6" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="content-block" id="received-facelikes"></div>
            <button class="button" onclick="showPage('photo-1')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Messages -->
        <div id="photo-7" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="content-block" id="chat-list"></div>
            <div class="content-block chat-section" id="chat-section" style="display: none;">
                <div class="chat-header">
                    <button class="button back-button" onclick="displayChatList()">Retour aux conversations</button>
                    <h3 id="chat-partner"></h3>
                </div>
                <div id="chat-content"></div>
                <textarea class="chat-input" id="chat-input" placeholder="Tapez votre message..."></textarea>
                <button class="button" onclick="sendMessage()">Envoyer</button>
                <button class="button" id="keep-as-friend-button" onclick="requestKeepAsFriend()">Garder en ami</button>
            </div>
            <button class="button" onclick="showPage('photo-1')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Page Statistiques -->
        <div id="stats-page" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="content-block">
                <p>Facelikes envoy√©s : 0</p>
                <p>Facelikes re√ßus : 0</p>
                <p>Facematchs : 0</p>
                <p>Facelikes re√ßus par lieu : Le Nocturne (0), Le Pulse (0)</p>
                <p>Facelikes √©mis par lieu : Le Nocturne (0), Le Pulse (0)</p>
                <p>Facematchs par lieu : Le Nocturne (0), Le Pulse (0)</p>
                <p>Type de profil attir√© : Aucun pour l'instant</p>
            </div>
            <button class="button" onclick="showPage('photo-1')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Page Amis -->
        <div id="friends-page" class="page">
            <div class="header">
                <img src="https://i.imgur.com/ZuiLCGZ.jpeg" alt="FaceParty Logo" class="logo">
            </div>
            <div class="content-block" id="friends-list"></div>
            <button class="button" onclick="showPage('photo-2')">Retour</button>
            <div class="footer">
                <p>¬© FaceParty 2025</p>
            </div>
        </div>

        <!-- Bouton central fixe -->
        <button class="home-button" onclick="showPage('photo-1')">üè†</button>
    </div>

    <script>
        let currentUser = null;
        let currentChatPartner = null;
        let pendingSignUpData = null;

        // Liste des participants vierge pour les tests
        let participants = [];

        // Fonction pour g√©rer l'inscription avec v√©rification par e-mail
        function signup() {
            const nom = document.getElementById('signup-nom').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const prenom = document.getElementById('signup-prenom').value.trim();
            const boisson = document.getElementById('signup-boisson').value.trim();
            const taille = document.getElementById('signup-taille').value.trim();
            const eyes = document.getElementById('signup-eyes').value;
            const hair = document.getElementById('signup-hair').value;
            const nationality = document.getElementById('signup-nationality').value;
            const password = document.getElementById('signup-password').value.trim();

            if (!nom || !email || !prenom || !boisson || !taille || !eyes || !hair || !nationality || !password) {
                alert('Veuillez remplir tous les champs pour vous inscrire.');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[email]) {
                alert('Cet e-mail est d√©j√† utilis√©. Veuillez utiliser un autre e-mail ou vous connecter.');
                return;
            }

            // Simuler l'envoi d'un e-mail de v√©rification
            pendingSignUpData = {
                nom: nom,
                email: email,
                prenom: prenom,
                boisson: boisson,
                taille: taille,
                eyes: eyes,
                hair: hair,
                nationality: nationality,
                password: password
            };
            alert(`Un e-mail de v√©rification a √©t√© envoy√© √† ${email}. Cliquez sur le lien pour valider votre inscription. (Simulation : Cliquez sur OK pour confirmer)`);
            confirmSignUp(); // Simuler la validation en cliquant sur OK
        }

        // Simuler la confirmation de l'e-mail
        function confirmSignUp() {
            if (!pendingSignUpData) {
                alert('Aucune inscription en attente.');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const { nom, email, prenom, boisson, taille, eyes, hair, nationality, password } = pendingSignUpData;

            users[email] = {
                nom: nom,
                email: email,
                password: password,
                profile: {
                    prenom: prenom,
                    boisson: boisson,
                    taille: taille,
                    eyes: eyes,
                    hair: hair,
                    nationality: nationality,
                    profilePic: 'https://via.placeholder.com/150?text=Photo+Utilisateur'
                },
                messages: {},
                friends: [],
                facelikes: { sent: [], received: [] },
                friendRequests: {}
            };
            localStorage.setItem('users', JSON.stringify(users));

            participants.push({
                name: prenom,
                age: Math.floor(Math.random() * (30 - 18 + 1)) + 18,
                height: taille,
                eyes: eyes,
                hair: hair,
                nationality: nationality,
                gender: Math.random() > 0.5 ? 'femmes' : 'hommes',
                pic: 'https://via.placeholder.com/150?text=' + prenom,
                boisson: boisson
            });

            currentUser = email;
            pendingSignUpData = null;
            showPage('photo-1');
            loadProfile();
            displayReceivedFacelikes();
        }

        // Fonction pour g√©rer la connexion
        function login() {
            const email = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value.trim();

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (!users[email] || users[email].password !== password) {
                alert('E-mail ou mot de passe incorrect.');
                return;
            }

            currentUser = email;
            showPage('photo-1');
            loadProfile();
            displayReceivedFacelikes();
        }

        // Afficher le formulaire de mot de passe oubli√©
        function showForgotPasswordForm() {
            document.getElementById('forgot-password-form').style.display = 'block';
        }

        // G√©rer la demande de r√©initialisation de mot de passe
        function forgotPassword() {
            const email = document.getElementById('forgot-email').value.trim();
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (!users[email]) {
                alert('Cet e-mail n\'existe pas.');
                return;
            }

            alert(`Un lien de r√©initialisation a √©t√© envoy√© √† ${email}. Cliquez sur le lien pour r√©initialiser votre mot de passe. (Simulation : Cliquez sur OK pour continuer)`);
            document.getElementById('forgot-password-form').style.display = 'none';
            document.getElementById('reset-password-form').style.display = 'block';
            document.getElementById('reset-email').value = email;
        }

        // R√©initialiser le mot de passe
        function resetPassword() {
            const email = document.getElementById('reset-email').value.trim();
            const newPassword = document.getElementById('reset-password').value.trim();

            if (!newPassword) {
                alert('Veuillez entrer un nouveau mot de passe.');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[email]) {
                users[email].password = newPassword;
                localStorage.setItem('users', JSON.stringify(users));
                alert('Mot de passe r√©initialis√© avec succ√®s. Veuillez vous connecter.');
                document.getElementById('reset-password-form').style.display = 'none';
                document.getElementById('login-email').value = email;
                document.getElementById('login-password').value = '';
            } else {
                alert('Erreur : Utilisateur non trouv√©.');
            }
        }

        // Charger les informations du profil
        function loadProfile() {
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                const user = users[currentUser];
                if (user && user.profile) {
                    const profilePicElement = document.getElementById('profile-pic');
                    const uploadPicElement = document.getElementById('upload-pic');
                    document.getElementById('profile-prenom').textContent = user.profile.prenom;
                    document.getElementById('profile-boisson').textContent = `Boisson pr√©f√©r√©e : ${user.profile.boisson}`;
                    document.getElementById('profile-taille').textContent = `Taille : ${user.profile.taille}`;
                    document.getElementById('profile-eyes').textContent = `Couleur des yeux : ${user.profile.eyes}`;
                    document.getElementById('profile-hair').textContent = `Couleur des cheveux : ${user.profile.hair}`;
                    document.getElementById('profile-nationality').textContent = `Nationalit√© : ${user.profile.nationality}`;
                    if (user.profile.profilePic) {
                        profilePicElement.style.backgroundImage = `url(${user.profile.profilePic})`;
                        profilePicElement.style.display = 'block';
                        uploadPicElement.style.display = user.profile.profilePic === 'https://via.placeholder.com/150?text=Photo+Utilisateur' ? 'block' : 'none';
                    } else {
                        profilePicElement.style.backgroundImage = `url('https://via.placeholder.com/150?text=Photo+Utilisateur')`;
                        uploadPicElement.style.display = 'block';
                    }
                    profilePicElement.onerror = function() {
                        this.style.backgroundImage = `url('https://via.placeholder.com/150?text=Photo+Utilisateur')`;
                    };
                }
            }
        }

        // Afficher le formulaire de modification du profil
        function showEditProfileForm() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const user = users[currentUser];
            if (user && user.profile) {
                document.getElementById('edit-email').value = user.email;
                document.getElementById('edit-password').value = '';
                document.getElementById('edit-prenom').value = user.profile.prenom;
                document.getElementById('edit-boisson').value = user.profile.boisson;
                document.getElementById('edit-taille').value = user.profile.taille;
                document.getElementById('edit-eyes').value = user.profile.eyes;
                document.getElementById('edit-hair').value = user.profile.hair;
                document.getElementById('edit-nationality').value = user.profile.nationality;
            }

            document.getElementById('profile-display').style.display = 'none';
            document.getElementById('edit-profile-form').style.display = 'block';
        }

        // Sauvegarder les modifications du profil
        function saveProfile() {
            const newEmail = document.getElementById('edit-email').value.trim();
            const newPassword = document.getElementById('edit-password').value.trim();
            const prenom = document.getElementById('edit-prenom').value.trim();
            const boisson = document.getElementById('edit-boisson').value.trim();
            const taille = document.getElementById('edit-taille').value.trim();
            const eyes = document.getElementById('edit-eyes').value;
            const hair = document.getElementById('edit-hair').value;
            const nationality = document.getElementById('edit-nationality').value;

            if (!prenom || !boisson || !taille || !eyes || !hair || !nationality) {
                alert('Veuillez remplir tous les champs pour sauvegarder les modifications.');
                return;
            }

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const oldEmail = currentUser;

            // Si l'email change, v√©rifier que le nouvel email n'est pas d√©j√† utilis√©
            if (newEmail && newEmail !== oldEmail) {
                if (users[newEmail]) {
                    alert('Cet e-mail est d√©j√† utilis√©. Veuillez choisir un autre e-mail.');
                    return;
                }
                users[newEmail] = users[oldEmail];
                delete users[oldEmail];
                currentUser = newEmail;
                users[currentUser].email = newEmail;
            }

            // Mettre √† jour le mot de passe si fourni
            if (newPassword) {
                users[currentUser].password = newPassword;
            }

            // Mettre √† jour les informations du profil
            users[currentUser].profile.prenom = prenom;
            users[currentUser].profile.boisson = boisson;
            users[currentUser].profile.taille = taille;
            users[currentUser].profile.eyes = eyes;
            users[currentUser].profile.hair = hair;
            users[currentUser].profile.nationality = nationality;

            // Mettre √† jour le participant correspondant
            const participantIndex = participants.findIndex(p => p.name === users[oldEmail]?.profile.prenom);
            if (participantIndex !== -1) {
                participants[participantIndex].name = prenom;
                participants[participantIndex].height = taille;
                participants[participantIndex].eyes = eyes;
                participants[participantIndex].hair = hair;
                participants[participantIndex].nationality = nationality;
                participants[participantIndex].boisson = boisson;
            }

            localStorage.setItem('users', JSON.stringify(users));
            document.getElementById('profile-display').style.display = 'block';
            document.getElementById('edit-profile-form').style.display = 'none';
            loadProfile();
        }

        function showPage(pageId) {
            if (!currentUser && pageId !== 'photo-login') {
                showPage('photo-login');
                return;
            }
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            if (pageId === 'photo-7') {
                displayChatList();
            } else if (pageId === 'photo-2') {
                loadProfile();
                document.getElementById('profile-display').style.display = 'block';
                document.getElementById('edit-profile-form').style.display = 'none';
            } else if (pageId === 'photo-6') {
                displayReceivedFacelikes();
            } else if (pageId === 'photo-5') {
                applyFilters();
            } else if (pageId === 'friends-page') {
                displayFriendsList();
            } else {
                loadData();
            }
        }

        function uploadProfilePic(event) {
            const file = event.target.files[0];
            if (file) {
                if (!file.type.match('image.*')) {
                    alert('Veuillez s√©lectionner une image (JPEG, PNG, etc.).');
                    return;
                }

                const reader = new FileReader();
                reader.onload = function(e) {
                    const profilePicUrl = e.target.result;
                    const profilePicElement = document.getElementById('profile-pic');
                    const uploadPicElement = document.getElementById('upload-pic');

                    if (profilePicElement && uploadPicElement) {
                        profilePicElement.style.backgroundImage = `url(${profilePicUrl})`;
                        profilePicElement.style.display = 'block';
                        uploadPicElement.style.display = 'none';

                        const users = JSON.parse(localStorage.getItem('users') || '{}');
                        if (users[currentUser]) {
                            users[currentUser].profile.profilePic = profilePicUrl;
                            localStorage.setItem('users', JSON.stringify(users));
                            const participantIndex = participants.findIndex(p => p.name === users[currentUser].profile.prenom);
                            if (participantIndex !== -1) {
                                participants[participantIndex].pic = profilePicUrl;
                            }
                            loadProfile();
                        }
                    }
                };
                reader.onerror = function() {
                    alert('Une erreur est survenue lors du chargement de l\'image.');
                };
                reader.readAsDataURL(file);
            }
        }

        function requestKeepAsFriend() {
            if (!currentUser || !currentChatPartner) return;

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            users[currentUser].friendRequests[currentChatPartner] = 'pending';
            users[currentChatPartner] = users[currentChatPartner] || { messages: {}, friends: [], facelikes: { sent: [], received: [] }, friendRequests: {} };
            users[currentChatPartner].friendRequests[currentUser] = 'pending';
            localStorage.setItem('users', JSON.stringify(users));

            alert(`Demande pour garder ${currentChatPartner} en ami envoy√©e. (Simulation : Cliquez sur OK pour simuler la r√©ponse de ${currentChatPartner})`);
            confirmKeepAsFriend(currentChatPartner, true); // Simuler une r√©ponse positive
        }

        function confirmKeepAsFriend(partner, response) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (response) {
                if (users[currentUser].friendRequests[partner] === 'pending' && users[partner].friendRequests[currentUser] === 'pending') {
                    users[currentUser].friends.push(partner);
                    users[partner].friends.push(currentUser);
                    delete users[currentUser].friendRequests[partner];
                    delete users[partner].friendRequests[currentUser];
                    localStorage.setItem('users', JSON.stringify(users));
                    alert(`Vous √™tes maintenant amis avec ${partner} !`);
                    document.getElementById('keep-as-friend-button').style.display = 'none';
                }
            } else {
                delete users[currentUser].friendRequests[partner];
                delete users[partner].friendRequests[currentUser];
                localStorage.setItem('users', JSON.stringify(users));
                alert(`${partner} a refus√© de rester ami.`);
            }
        }

        function sendMessage() {
            const message = document.getElementById('chat-input').value.trim();
            if (message && currentUser && currentChatPartner) {
                const chatContent = document.getElementById('chat-content');
                const newMessage = document.createElement('div');
                newMessage.className = 'chat-message';
                newMessage.textContent = `Vous (${new Date().toLocaleTimeString()}) : ${message}`;
                chatContent.appendChild(newMessage);
                document.getElementById('chat-input').value = '';
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                users[currentUser].messages[currentChatPartner] = users[currentUser].messages[currentChatPartner] || [];
                users[currentUser].messages[currentChatPartner].push({ sender: 'you', text: message, time: new Date().toLocaleTimeString() });
                users[currentChatPartner] = users[currentChatPartner] || { messages: {}, friends: [], facelikes: { sent: [], received: [] }, friendRequests: {} };
                users[currentChatPartner].messages[currentUser] = users[currentChatPartner].messages[currentUser] || [];
                users[currentChatPartner].messages[currentUser].push({ sender: currentChatPartner, text: message, time: new Date().toLocaleTimeString() });
                localStorage.setItem('users', JSON.stringify(users));
                loadData();

                const keepButton = document.getElementById('keep-as-friend-button');
                if (users[currentUser].friends.includes(currentChatPartner)) {
                    keepButton.style.display = 'none';
                } else if (!users[currentUser].friendRequests[currentChatPartner]) {
                    keepButton.style.display = 'block';
                }
            }
        }

        function loadData() {
            if (currentUser && currentChatPartner) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                if (users[currentUser]) {
                    const chatContent = document.getElementById('chat-content');
                    chatContent.innerHTML = '';
                    const messages = users[currentUser].messages[currentChatPartner] || [];
                    messages.forEach(msg => {
                        const messageDiv = document.createElement('div');
                        messageDiv.className = 'chat-message';
                        messageDiv.textContent = `${msg.sender === 'you' ? 'Vous' : currentChatPartner} (${msg.time}) : ${msg.text}`;
                        chatContent.appendChild(messageDiv);
                    });
                    document.getElementById('chat-partner').textContent = `Chat avec ${currentChatPartner}`;
                    const keepButton = document.getElementById('keep-as-friend-button');
                    if (users[currentUser].friends.includes(currentChatPartner)) {
                        keepButton.style.display = 'none';
                    } else if (!users[currentUser].friendRequests[currentChatPartner]) {
                        keepButton.style.display = 'block';
                    } else {
                        keepButton.style.display = 'none';
                    }
                }
            }
        }

        function displayChatList() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const chatList = document.getElementById('chat-list');
            const chatSection = document.getElementById('chat-section');
            chatList.innerHTML = '';
            chatList.style.display = 'block';
            chatSection.style.display = 'none';

            if (users[currentUser] && users[currentUser].messages) {
                const conversations = Object.keys(users[currentUser].messages);
                if (conversations.length === 0) {
                    chatList.innerHTML = '<p>Aucune conversation pour le moment.</p>';
                } else {
                    conversations.forEach(partner => {
                        const item = document.createElement('div');
                        item.className = 'list-item';
                        item.innerHTML = `<span>${partner}</span>`;
                        item.onclick = () => {
                            currentChatPartner = partner;
                            chatList.style.display = 'none';
                            chatSection.style.display = 'block';
                            loadData();
                        };
                        chatList.appendChild(item);
                    });
                }
            } else {
                chatList.innerHTML = '<p>Aucune conversation pour le moment.</p>';
            }
        }

        function showPersonProfile(person, returnPage = 'photo-5') {
            const profile = participants.find(p => p.name === person);
            if (profile) {
                document.getElementById('person-name').textContent = profile.name;
                document.getElementById('person-age').textContent = `${profile.age} ans`;
                document.getElementById('person-height').textContent = `Taille : ${profile.height}`;
                document.getElementById('person-eyes').textContent = `Yeux : ${profile.eyes}`;
                document.getElementById('person-hair').textContent = `Cheveux : ${profile.hair}`;
                document.getElementById('person-nationality').textContent = `Nationalit√© : ${profile.nationality}`;
                document.getElementById('person-boisson').textContent = `Boisson pr√©f√©r√©e : ${profile.boisson || 'Mojito'}`;
                document.getElementById('person-pic').style.backgroundImage = `url(${profile.pic || 'https://via.placeholder.com/150?text=Fictif+Utilisateur'})`;
                const facelikeButton = document.getElementById('facelike-button');
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                if (users[currentUser] && users[currentUser].facelikes.sent.includes(profile.name)) {
                    facelikeButton.textContent = 'Demande envoy√©e';
                    facelikeButton.classList.add('facelike-sent');
                    facelikeButton.disabled = true;
                } else {
                    facelikeButton.textContent = 'Facelike';
                    facelikeButton.classList.remove('facelike-sent');
                    facelikeButton.disabled = false;
                }
                const returnButton = document.getElementById('person-profile').querySelector('.button[onclick*="showPage"]');
                returnButton.setAttribute('onclick', `showPage('${returnPage}')`);
                showPage('person-profile');
            } else {
                alert(`Profil de ${person} non trouv√©`);
            }
        }

        function sendFacelike(person, event) {
            event.stopPropagation();
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                if (!users[currentUser].facelikes.sent.includes(person)) {
                    users[currentUser].facelikes.sent.push(person);
                    users[person] = users[person] || { messages: {}, friends: [], facelikes: { sent: [], received: [] }, friendRequests: {} };
                    users[person].facelikes.received.push(currentUser);
                    localStorage.setItem('users', JSON.stringify(users));
                    const button = event.target;
                    button.textContent = 'Facelike envoy√©';
                    button.classList.add('facelike-sent');
                    button.disabled = true;
                    displayReceivedFacelikes();
                }
            }
        }

        function sendFacelikeFromProfile() {
            const personName = document.getElementById('person-name').textContent;
            const facelikeButton = document.getElementById('facelike-button');
            if (currentUser && personName && facelikeButton) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                if (!users[currentUser].facelikes.sent.includes(personName)) {
                    users[currentUser].facelikes.sent.push(personName);
                    users[personName] = users[personName] || { messages: {}, friends: [], facelikes: { sent: [], received: [] }, friendRequests: {} };
                    users[personName].facelikes.received.push(currentUser);
                    localStorage.setItem('users', JSON.stringify(users));
                    facelikeButton.textContent = 'Demande envoy√©e';
                    facelikeButton.classList.add('facelike-sent');
                    facelikeButton.disabled = true;
                }
            }
        }

        function acceptFacelike(person) {
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                users[currentUser].facelikes.received = users[currentUser].facelikes.received.filter(p => p !== person);
                localStorage.setItem('users', JSON.stringify(users));

                const chatContent = document.getElementById('chat-content');
                chatContent.innerHTML = '';
                const initialMessage = document.createElement('div');
                initialMessage.className = 'chat-message';
                initialMessage.textContent = `Vous (${new Date().toLocaleTimeString()}) : Salut, ravi de te matcher !`;

                users[currentUser].messages[person] = users[currentUser].messages[person] || [];
                users[currentUser].messages[person].push({ sender: 'you', text: 'Salut, ravi de te matcher !', time: new Date().toLocaleTimeString() });
                users[person] = users[person] || { messages: {}, friends: [], facelikes: { sent: [], received: [] }, friendRequests: {} };
                users[person].messages[currentUser] = users[person].messages[currentUser] || [];
                users[person].messages[currentUser].push({ sender: 'you', text: 'Salut, ravi de te matcher !', time: new Date().toLocaleTimeString() });
                localStorage.setItem('users', JSON.stringify(users));

                displayReceivedFacelikes();
                currentChatPartner = person;
                showPage('photo-7');
                loadData();
            }
        }

        function refuseFacelike(person) {
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                users[currentUser].facelikes.received = users[currentUser].facelikes.received.filter(p => p !== person);
                localStorage.setItem('users', JSON.stringify(users));
                displayReceivedFacelikes();
            }
        }

        function displayReceivedFacelikes() {
            if (currentUser) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                const receivedFacelikes = users[currentUser].facelikes.received || [];
                const facelikesDiv = document.getElementById('received-facelikes');
                facelikesDiv.innerHTML = '';
                if (receivedFacelikes.length === 0) {
                    facelikesDiv.innerHTML = '<p>Aucun facelike re√ßu pour le moment.</p>';
                } else {
                    receivedFacelikes.forEach(person => {
                        const profile = participants.find(p => p.name === person);
                        if (profile) {
                            const item = document.createElement('div');
                            item.className = 'list-item';
                            item.innerHTML = `
                                <span onclick="showPersonProfile('${profile.name}', 'photo-6')">${profile.name} vous a facelik√©</span>
                                <div>
                                    <button class="nav-button" onclick="acceptFacelike('${profile.name}')">Accepter</button>
                                    <button class="nav-button" onclick="refuseFacelike('${profile.name}')">Refuser</button>
                                </div>
                            `;
                            facelikesDiv.appendChild(item);
                        }
                    });
                }
            }
        }

        function displayFriendsList() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const friendsList = document.getElementById('friends-list');
            friendsList.innerHTML = '';
            const friends = users[currentUser]?.friends || [];
            if (friends.length === 0) {
                friendsList.innerHTML = '<p>Vous n\'avez pas encore d\'amis.</p>';
            } else {
                friends.forEach(friend => {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.innerHTML = `<span onclick="showPersonProfile('${friend}', 'friends-page')">${friend}</span>`;
                    friendsList.appendChild(item);
                });
            }
        }

        function applyFilters() {
            const preferences = document.getElementById('filter-preferences').value;
            const age = document.getElementById('filter-age').value;
            const height = document.getElementById('filter-height').value;
            const eyes = document.getElementById('filter-eyes').value;
            const hair = document.getElementById('filter-hair').value;
            const nationality = document.getElementById('filter-nationality').value;

            const filteredParticipants = participants.filter(p => {
                if (preferences !== 'all' && p.gender !== preferences) return false;
                if (age !== 'all' && !((age === '18-25' && p.age >= 18 && p.age <= 25) || (age === '26-30' && p.age >= 26 && p.age <= 30))) return false;
                if (height !== 'all' && !((height === 'petit' && (p.height === '1m60' || p.height === '1m65' || p.height === '1m67' || p.height === '1m66' || p.height === '1m63')) || (height === 'grand' && (p.height === '1m70' || p.height === '1m75' || p.height === '1m72' || p.height === '1m76' || p.height === '1m77' || p.height === '1m78' || p.height === '1m79' || p.height === '1m80' || p.height === '1m81' || p.height === '1m82' || p.height === '1m83' || p.height === '1m85' || p.height === '1m88')))) return false;
                if (eyes !== 'all' && p.eyes.toLowerCase() !== eyes) return false;
                if (hair !== 'all' && p.hair.toLowerCase() !== hair) return false;
                if (nationality !== 'all') {
                    const nationalities = {
                        'france': ['Fran√ßaise', 'Fran√ßais'],
                        'italie': ['Italienne'],
                        'royaume-uni': ['Britannique'],
                        'suede': ['Su√©doise', 'Su√©dois'],
                        'espagne': ['Espagnole', 'Espagnol'],
                        'usa': ['Am√©ricaine', 'Am√©ricain'],
                        'maroc': ['Marocaine', 'Marocain'],
                        'allemagne': ['Allemande'],
                        'chine': ['Chinoise'],
                        'japon': ['Japonaise'],
                        'russie': ['Russe'],
                        'bresil': ['Br√©silienne'],
                        'canada': ['Canadienne'],
                        'australie': ['Australienne'],
                        'inde': ['Indienne'],
                        'mexique': ['Mexicaine'],
                        'afrique-du-sud': ['Sud-Africaine'],
                        'coree': ['Cor√©enne'],
                        'turquie': ['Turque'],
                        'portugal': ['Portugaise'],
                        'pays-bas': ['N√©erlandaise'],
                        'belgique': ['Belge'],
                        'suisse': ['Suisse'],
                        'argentine': ['Argentine'],
                        'egypte': ['√âgyptienne'],
                        'grece': ['Grecque'],
                        'danemark': ['Danoise'],
                        'norvege': ['Norv√©gienne'],
                        'pologne': ['Polonaise'],
                        'vietnam': ['Vietnamienne']
                    };
                    if (!nationalities[nationality].includes(p.nationality)) return false;
                }
                return true;
            });

            const participantsList = document.getElementById('participants-list');
            participantsList.innerHTML = '';
            filteredParticipants.forEach(p => {
                const item = document.createElement('div');
                item.className = 'list-item';
                item.innerHTML = `
                    <span class="participant-name" data-name="${p.name}">${p.name}, ${p.age} ans, ${p.height}, Yeux ${p.eyes}, ${p.hair}, ${p.nationality}</span>
                    <button class="nav-button" onclick="sendFacelike('${p.name}', event)">Facelike</button>
                `;
                participantsList.appendChild(item);
            });

            const participantNames = document.querySelectorAll('.participant-name');
            participantNames.forEach(nameElement => {
                nameElement.addEventListener('click', () => {
                    const name = nameElement.getAttribute('data-name');
                    showPersonProfile(name, 'photo-5');
                });
            });
        }

        function searchPlaces() {
            const searchValue = document.getElementById('search-bar').value.toLowerCase();
            const placesList = document.getElementById('places-list');
            placesList.innerHTML = '';
            const places = ['Le Nocturne', 'Le Pulse'].filter(place => place.toLowerCase().includes(searchValue));
            places.forEach(place => {
                const item = document.createElement('div');
                item.className = 'list-item';
                item.textContent = place;
                item.onclick = () => showPage('photo-4');
                placesList.appendChild(item);
            });
        }

        function searchPlacesFull() {
            const searchValue = document.getElementById('search-bar-full').value.toLowerCase();
            const placesList = document.getElementById('places-list-full');
            placesList.innerHTML = '';
            const places = ['Le Nocturne', 'Le Pulse'].filter(place => place.toLowerCase().includes(searchValue));
            places.forEach(place => {
                const item = document.createElement('div');
                item.className = 'list-item';
                item.textContent = place;
                item.onclick = () => showPage('photo-4');
                placesList.appendChild(item);
            });
        }

        // Initialiser l'application
        localStorage.removeItem('users'); // Nettoyer les utilisateurs pour les tests
        showPage('photo-login');
    </script>
</body>
</html>
